# üèóÔ∏è –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–∞—à –ø—Ä–æ–µ–∫—Ç (–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)

–í—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —Å—Ö–µ–º—É **"–†–∞–∑–¥–µ–ª—å–Ω—ã–π Frontend –∏ Backend"**. –≠—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–Ω–ª–∞–π–Ω-–∏–≥—Ä.

```mermaid
graph TD
    User((üë§ –ò–≥—Ä–æ–∫))
    
    subgraph "FRONTEND (Vercel)"
        Browser[Browsers / PC / Mobile]
        App[–ò–≥—Ä–æ–≤–æ–π –ö–ª–∏–µ–Ω—Ç (JS/Canvas)]
    end
    
    subgraph "BACKEND (Railway)"
        Server[–ò–≥—Ä–æ–≤–æ–π –°–µ—Ä–≤–µ—Ä (Node.js)]
        Logic[–§–∏–∑–∏–∫–∞ –∏ –õ–æ–≥–∏–∫–∞]
        WS[WebSocket (TCP)]
        UDP[Geckos (UDP)]
    end
    
    User -->|1. –ó–∞—Ö–æ–¥–∏—Ç –Ω–∞ —Å–∞–π—Ç| Browser
    Browser -->|2. –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Ñ–∞–π–ª—ã| App
    App -->|3. –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è (wss://...)| Server
    
    Server <-->|4. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (60 —Ä–∞–∑/—Å–µ–∫)| App
```

## üîç –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1.  **Frontend (–ö–ª–∏–µ–Ω—Ç)** –ª–µ–∂–∏—Ç –Ω–∞ **Vercel**. 
    -   –≠—Ç–æ –ø—Ä–æ—Å—Ç–æ —Ñ–∞–π–ª—ã ("–∫–∞—Ä—Ç–∏–Ω–∫–∞", –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å), –∫–æ—Ç–æ—Ä—ã–µ –±—Ä–∞—É–∑–µ—Ä —Å–∫–∞—á–∏–≤–∞–µ—Ç –æ–¥–∏–Ω —Ä–∞–∑.
    -   Vercel *–Ω–µ —É–º–µ–µ—Ç* –¥–µ—Ä–∂–∞—Ç—å –ø–æ—Å—Ç–æ—è–Ω–Ω—É—é —Å–≤—è–∑—å (–æ–Ω "–∑–∞—Å—ã–ø–∞–µ—Ç" —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –æ—Ç–¥–∞—á–∏ —Ñ–∞–π–ª–æ–≤).

2.  **Backend (–°–µ—Ä–≤–µ—Ä)** –ª–µ–∂–∏—Ç –Ω–∞ **Railway**.
    -   –≠—Ç–æ "–º–æ–∑–≥" –∏–≥—Ä—ã. –û–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ (24/7).
    -   –û–Ω –ø–æ–º–Ω–∏—Ç, –≥–¥–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤—Å–µ —Ç–∞–Ω–∫–∏, —Å—á–∏—Ç–∞–µ—Ç –ø–æ–ø–∞–¥–∞–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–º–Ω–∞—Ç–∞–º–∏.
    -   –û–Ω –æ–±—â–∞–µ—Ç—Å—è —Å –∏–≥—Ä–æ–∫–∞–º–∏ —á–µ—Ä–µ–∑ **WebSockets** (–∫–∞–∫ —Ç–µ–ª–µ—Ñ–æ–Ω–Ω—ã–π –∑–≤–æ–Ω–æ–∫).

---

## ‚ùì –ß—Ç–æ –æ—Ç –≤–∞—Å —Ç—Ä–µ–±—É–µ—Ç—Å—è?

–Ø —Å–¥–µ–ª–∞–ª –≤–µ—Å—å –∫–æ–¥, –Ω–æ **—è –Ω–µ –º–æ–≥—É –∑–∞–π—Ç–∏ –≤ –≤–∞—à–∏ –∞–∫–∫–∞—É–Ω—Ç—ã**. 
–í–∞–º –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å "—Å—Ü–µ–ø–∫—É" ‚Äî —Å–∫–∞–∑–∞—Ç—å –ö–ª–∏–µ–Ω—Ç—É (Vercel), –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –°–µ—Ä–≤–µ—Ä (Railway).

### üõ†Ô∏è –í–∞—à–∏ –¥–µ–π—Å—Ç–≤–∏—è (3 —à–∞–≥–∞):

1.  **–ó–∞–π–¥–∏—Ç–µ –≤ Railway:**
    -   –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç.
    -   –í `Settings` -> `Networking` —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ **Public Domain** (–Ω–∞–ø—Ä–∏–º–µ—Ä: `protocol-xt-production.up.railway.app`).

2.  **–ó–∞–π–¥–∏—Ç–µ –≤ Vercel:**
    -   –û—Ç–∫—Ä–æ–π—Ç–µ `Settings` -> `Environment Variables`.
    -   –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é:
        -   **Key:** `VITE_WS_SERVER_URL`
        -   **Value:** `wss://–í–ê–®_–ê–î–†–ï–°_RAILWAY` (–¥–æ–±–∞–≤—å—Ç–µ `wss://` –≤ –Ω–∞—á–∞–ª–µ!)

3.  **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Vercel:**
    -   –ó–∞–π–¥–∏—Ç–µ –≤ `Deployments`.
    -   –ù–∞–∂–º–∏—Ç–µ —Ç—Ä–∏ —Ç–æ—á–∫–∏ `...` –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–º –¥–µ–ø–ª–æ–µ -> **Redeploy**.

**–ë–µ–∑ —ç—Ç–æ–≥–æ —à–∞–≥–∞ –ö–ª–∏–µ–Ω—Ç –±—É–¥–µ—Ç —Å—Ç—É—á–∞—Ç—å—Å—è –≤ –ø—É—Å—Ç–æ—Ç—É (localhost –∏–ª–∏ —Å—Ç–∞—Ä—ã–π –∞–¥—Ä–µ—Å) –∏ –ø–∏—Å–∞—Ç—å "–ù–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è".**
