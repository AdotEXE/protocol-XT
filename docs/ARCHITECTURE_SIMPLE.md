# üó∫Ô∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ü—Ä–æ–µ–∫—Ç–∞ (–ü—Ä–æ—Å—Ç–æ –æ –ì–ª–∞–≤–Ω–æ–º)

–≠—Ç–æ—Ç —Ñ–∞–π–ª –ø–æ–º–æ–∂–µ—Ç –ø–æ–Ω—è—Ç—å, –∫–∞–∫ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç, –±–µ–∑ —Å–ª–æ–∂–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤.

---

## üéÆ 1. –ì–ª–∞–≤–Ω—ã–π –¶–∏–∫–ª (Game Loop)
–≠—Ç–æ —Å–µ—Ä–¥—Ü–µ –∏–≥—Ä—ã. –û–Ω–æ –±—å–µ—Ç—Å—è 60 —Ä–∞–∑ –≤ —Å–µ–∫—É–Ω–¥—É.
**–§–∞–π–ª:** `src/client/game.ts`

1.  **Input**: –û–ø—Ä–∞—à–∏–≤–∞–µ–º –∫–ª–∞–≤–∏—à–∏ (WASD, –ú—ã—à—å).
2.  **Logic**: –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–∑–∏—Ü–∏–∏, –∑–¥–æ—Ä–æ–≤—å–µ, —Ç–∞–π–º–µ—Ä—ã.
3.  **Network**: –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–≤–æ–∏ –¥–µ–π—Å—Ç–≤–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä, –ø–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥—Ä—É–≥–∏—Ö.
4.  **Render**: –†–∏—Å—É–µ–º –≤—Å—ë –Ω–∞ —ç–∫—Ä–∞–Ω–µ.

---

## üì° 2. –ú—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä (–°–µ—Ç—å)
–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º WebSocket –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ –æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏.
**–§–∞–π–ª:** `src/client/multiplayer.ts`

*   **–ö–ª–∏–µ–Ω—Ç (–í—ã)**: "–Ø –Ω–∞–∂–∞–ª –í–ü–ï–†–Å–î".
*   **–°–µ—Ä–≤–µ—Ä**: "–û–∫, –¥–≤–∏–≥–∞—é —Ç–µ–±—è –≤–ø–µ—Ä—ë–¥. –¢—ã —Ç–µ–ø–µ—Ä—å –≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–µ (10, 0, 5)".
*   **–ö–ª–∏–µ–Ω—Ç**: –ü–æ–ª—É—á–∞–µ—Ç (10, 0, 5) –∏ –ø–ª–∞–≤–Ω–æ –µ–¥–µ—Ç —Ç—É–¥–∞.

**–ï—Å–ª–∏ –ª–∞–≥–∞–µ—Ç?**
–£ –Ω–∞—Å –µ—Å—Ç—å **Reconciliation** (–ü—Ä–∏–º–∏—Ä–µ–Ω–∏–µ): –ï—Å–ª–∏ –ö–ª–∏–µ–Ω—Ç —É–µ—Ö–∞–ª —Å–ª–∏—à–∫–æ–º –¥–∞–ª–µ–∫–æ –æ—Ç —Ç–æ–≥–æ, —á—Ç–æ –≤–∏–¥–∏—Ç –°–µ—Ä–≤–µ—Ä, –°–µ—Ä–≤–µ—Ä –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ "—Ç–µ–ª–µ–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç" –µ–≥–æ –æ–±—Ä–∞—Ç–Ω–æ, —á—Ç–æ–±—ã –≤—Å–µ –≤–∏–¥–µ–ª–∏ –æ–¥–Ω—É –∫–∞—Ä—Ç–∏–Ω–∫—É.

---

## üöú 3. –§–∏–∑–∏–∫–∞ –¢–∞–Ω–∫–∞
–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–≤–∏–∂–æ–∫ **Havok** (–∫–∞–∫ –≤ –∫—Ä—É—Ç—ã—Ö –∏–≥—Ä–∞—Ö).
**–§–∞–π–ª:** `src/client/tankController.ts`

*   **–ö–æ—Ä–ø—É—Å**: –≠—Ç–æ —Ñ–∏–∑–∏—á–µ—Å–∫–∞—è –∫–æ—Ä–æ–±–∫–∞. –ú—ã —Ç–æ–ª–∫–∞–µ–º –µ—ë —Å–∏–ª–∞–º–∏ (Forces).
*   **–ë–∞—à–Ω—è**: –û–Ω–∞ –ø—Ä–æ—Å—Ç–æ "–ø—Ä–∏–∫–ª–µ–µ–Ω–∞" —Å–≤–µ—Ä—Ö—É –∏ –∫—Ä—É—Ç–∏—Ç—Å—è –∑–∞ –º—ã—à–∫–æ–π.
*   **Raycast (–õ—É—á–∏)**: –¢–∞–Ω–∫ –ø—É—Å–∫–∞–µ—Ç –Ω–µ–≤–∏–¥–∏–º—ã–µ –ª—É—á–∏ –≤–Ω–∏–∑, —á—Ç–æ–±—ã "—â—É–ø–∞—Ç—å" –∑–µ–º–ª—é. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º –Ω–µ –ø—Ä–æ–≤–∞–ª–∏–≤–∞—Ç—å—Å—è –∏ –µ–∑–¥–∏—Ç—å –ø–æ –∫–æ—á–∫–∞–º (–∏–º–∏—Ç–∞—Ü–∏—è –ø–æ–¥–≤–µ—Å–∫–∏).

---

## üî´ 4. –°—Ç—Ä–µ–ª—å–±–∞
**–§–∞–π–ª:** `src/client/game/GameMultiplayerCallbacks.ts` (–∏ `tankController.ts`)

1.  –í—ã –∂–º–µ—Ç–µ –õ–ö–ú -> –°–æ–∑–¥–∞–µ—Ç—Å—è **–≤–∏–∑—É–∞–ª—å–Ω—ã–π** —Å–Ω–∞—Ä—è–¥ (—Å—Ä–∞–∑—É, —á—Ç–æ–±—ã –Ω–µ –∂–¥–∞—Ç—å).
2.  –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å–∏–≥–Ω–∞–ª –Ω–∞ –°–µ—Ä–≤–µ—Ä.
3.  –°–µ—Ä–≤–µ—Ä —Å–æ–∑–¥–∞–µ—Ç **–Ω–∞—Å—Ç–æ—è—â–∏–π** —Å–Ω–∞—Ä—è–¥ –∏ —Å—á–∏—Ç–∞–µ—Ç –ø–æ–ø–∞–¥–∞–Ω–∏—è.
4.  –ï—Å–ª–∏ –ø–æ–ø–∞–ª -> –°–µ—Ä–≤–µ—Ä –≥–æ–≤–æ—Ä–∏—Ç "–ú–∏–Ω—É—Å –•–ü —Ç–æ–º—É –ø–∞—Ä–Ω—é".

---

## üñ•Ô∏è 5. –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å (HUD)
–í—Å–µ –∏–∫–æ–Ω–∫–∏, –∑–¥–æ—Ä–æ–≤—å–µ, –∫–∞—Ä—Ç–∞ ‚Äî —ç—Ç–æ **BabylonJS GUI**.
**–§–∞–π–ª:** `src/client/hud.ts`

–≠—Ç–æ –ø—Ä–æ—Å—Ç–æ —Å–ª–æ–π –∫–∞—Ä—Ç–∏–Ω–æ–∫ –∏ —Ç–µ–∫—Å—Ç–∞ –ø–æ–≤–µ—Ä—Ö 3D –º–∏—Ä–∞. –û–Ω –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –º–µ–Ω—è–µ—Ç—Å—è –∑–¥–æ—Ä–æ–≤—å–µ –∏–ª–∏ –ø–∞—Ç—Ä–æ–Ω—ã.

---

## üß© 6. –ß–∞–Ω–∫–∏ (Chunks)
–ú–∏—Ä –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π (–∏–ª–∏ –±–æ–ª—å—à–æ–π). –ú—ã –Ω–µ –≥—Ä—É–∑–∏–º –≤—Å—ë —Å—Ä–∞–∑—É.
**–§–∞–π–ª:** `src/client/chunkSystem.ts`

*   –ú—ã –¥–µ–ª–∏–º –º–∏—Ä –Ω–∞ –∫–≤–∞–¥—Ä–∞—Ç—ã (–ß–∞–Ω–∫–∏).
*   –ì—Ä—É–∑–∏–º —Ç–æ–ª—å–∫–æ —Ç–µ, —á—Ç–æ —Ä—è–¥–æ–º —Å –∏–≥—Ä–æ–∫–æ–º.
*   –î–∞–ª–µ–∫–∏–µ —É–¥–∞–ª—è–µ–º –∏–∑ –ø–∞–º—è—Ç–∏.

---

## üõ†Ô∏è –ö—É–¥–∞ —Å–º–æ—Ç—Ä–µ—Ç—å, –µ—Å–ª–∏...

*   **–•–æ—á—É –ø–æ–º–µ–Ω—è—Ç—å —Å–∫–æ—Ä–æ—Å—Ç—å —Ç–∞–Ω–∫–∞:** `src/client/config/physicsConfig.ts`
*   **–•–æ—á—É –¥–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É:** `src/client/inputManager.ts`
*   **–•–æ—á—É –∏–∑–º–µ–Ω–∏—Ç—å —É—Ä–æ–Ω:** `src/shared/constants.ts` (–∏–ª–∏ –∫–æ–Ω—Ñ–∏–≥ —Å–µ—Ä–≤–µ—Ä–∞)
*   **–•–æ—á—É –ø–æ–º–µ–Ω—è—Ç—å —Ü–≤–µ—Ç —á–∞—Ç–∞:** `src/client/chatSystem.ts`
