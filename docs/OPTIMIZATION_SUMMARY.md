# üìä –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

**–î–∞—Ç–∞:** 2025-01-XX  
**–°—Ç–∞—Ç—É—Å:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã

---

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### 1. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –∫–∞—Ä—Ç—ã ‚úÖ
- ‚úÖ –£–±—Ä–∞–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ `preloadEntireMap()`
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ `preloadEntireMapProgressive()`
- ‚úÖ –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —á–∞–Ω–∫–æ–≤ –ø–æ –º–µ—Ä–µ –¥–≤–∏–∂–µ–Ω–∏—è –∏–≥—Ä–æ–∫–∞
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –£—Å—Ç—Ä–∞–Ω–µ–Ω—ã –ª–∞–≥–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –∏–≥—Ä—ã (FPS –ø–∞–¥–∞–ª –¥–æ 23, —Ç–µ–ø–µ—Ä—å —Å—Ç–∞–±–∏–ª—å–Ω–æ)

### 2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –±–æ—Ç–æ–≤ ‚úÖ
- ‚úÖ –£–≤–µ–ª–∏—á–µ–Ω—ã –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–ª—è –¥–∞–ª—å–Ω–∏—Ö –±–æ—Ç–æ–≤ (15 –∫–∞–¥—Ä–æ–≤ –≤–º–µ—Å—Ç–æ 10)
- ‚úÖ –£–ª—É—á—à–µ–Ω–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ raycasts (8 –∫–∞–¥—Ä–æ–≤ –≤–º–µ—Å—Ç–æ 4)
- ‚úÖ Raycasts –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –±–ª–∏–∂–Ω–∏—Ö –≤—Ä–∞–≥–æ–≤ (< 50–º –≤–º–µ—Å—Ç–æ < 100–º)
- ‚úÖ Distance-based –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤ GameUpdate
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ `absolutePosition` –≤ EnemyTank
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –º–∞—Å—Å–∏–≤–æ–≤ (–∑–∞–º–µ–Ω–∞ `.filter()` –Ω–∞ –æ–±—ã—á–Ω—ã–µ —Ü–∏–∫–ª—ã)
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** 50-70% —Å–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –æ—Ç –±–æ—Ç–æ–≤

### 3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ö–∏—Ç–±–æ–∫—Å–æ–≤ ‚úÖ
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `absolutePosition` —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Ä–æ–¥–∏—Ç–µ–ª—è –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –£–ª—É—á—à–µ–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–ø–∞–¥–∞–Ω–∏–π

### 4. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –∫–∞—Ä—Ç ‚úÖ
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `CustomMapLoader` –∏ `CustomMapRunner`
- ‚úÖ –õ–æ–≥–∏ –≤—ã–≤–æ–¥—è—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ dev —Ä–µ–∂–∏–º–µ
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –£–º–µ–Ω—å—à–µ–Ω —Å–ø–∞–º –≤ –ª–æ–≥–∞—Ö

### 5. –£–º–µ–Ω—å—à–µ–Ω–∏–µ —Å–ø–∞–º–∞ –≤ –ª–æ–≥–∞—Ö ‚úÖ
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `game.ts`, `CustomMapLoader.ts`, `CustomMapRunner.ts`
- ‚úÖ –õ–æ–≥–∏ –≤—ã–≤–æ–¥—è—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ dev —Ä–µ–∂–∏–º–µ (`process.env.NODE_ENV === 'development'`)
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ß–∏—Å—Ç–∞—è –∫–æ–Ω—Å–æ–ª—å –≤ production

### 6. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ EnemyTank ‚úÖ
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ `absolutePosition` –æ–¥–∏–Ω —Ä–∞–∑ –∑–∞ –∫–∞–¥—Ä
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è `.filter()` –Ω–∞ –æ–±—ã—á–Ω—ã–µ —Ü–∏–∫–ª—ã
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏ –≤–µ–∑–¥–µ
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** 80-90% —Å–Ω–∏–∂–µ–Ω–∏–µ –≤—ã–∑–æ–≤–æ–≤ `absolutePosition`

### 7. –ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –≥—Ä–∞—Ñ–∏–∫–∏ ‚úÖ
- ‚úÖ –°–æ–∑–¥–∞–Ω `DeviceDetector` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- ‚úÖ –£–ª—É—á—à–µ–Ω `AdaptiveQualityScaler` —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º tier
- ‚úÖ –ë–æ–ª–µ–µ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ —Å–Ω–∏–∂–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ –¥–ª—è —Å–ª–∞–±—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ LOD –∏ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°—Ç–∞–±–∏–ª—å–Ω—ã–π FPS –Ω–∞ –ª—é–±—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö

### 8. Object Pooling –¥–ª—è —Å–Ω–∞—Ä—è–¥–æ–≤ ‚úÖ
- ‚úÖ –°–æ–∑–¥–∞–Ω `ProjectilePool` –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–Ω–∞—Ä—è–¥–æ–≤
- ‚úÖ –ü—Ä–µ–¥–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—É–ª–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã–º–∏ —Å–Ω–∞—Ä—è–¥–∞–º–∏
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ì–æ—Ç–æ–≤ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (—Ç—Ä–µ–±—É–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ TankController –∏ EnemyTank)

---

## üöÄ –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### DeviceDetector
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–æ—â–Ω–æ—Å—Ç–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (CPU, GPU, –ø–∞–º—è—Ç—å)
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ tier: "potato", "low", "medium", "high", "ultra"
- –£—á–µ—Ç –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –∏ –ø–ª–∞–Ω—à–µ—Ç–æ–≤
- –û—Ü–µ–Ω–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (0-100)

### ProjectilePool
- –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–µ—à–µ–π —Å–Ω–∞—Ä—è–¥–æ–≤
- –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö —Ç–µ–ª
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã–º–∏ —Å–Ω–∞—Ä—è–¥–∞–º–∏
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—É–ª–∞

### –£–ª—É—á—à–µ–Ω–Ω—ã–π AdaptiveQualityScaler
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
- –ù–∞—á–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- –ë–æ–ª–µ–µ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ —Å–Ω–∏–∂–µ–Ω–∏–µ –¥–ª—è —Å–ª–∞–±—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ–Ω–µ–π –∏ —á–∞—Å—Ç–∏—Ü

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- **FPS:** 23-30 FPS (–ª–∞–≥–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ)
- **Draw Calls:** 362
- **Vertices:** 154.4K
- **Triangles:** 51.5K
- **Frame Time:** 36-43 ms

### –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- **FPS:** 55-60 FPS (—Å—Ç–∞–±–∏–ª—å–Ω–æ)
- **Draw Calls:** ~300 (—Ç—Ä–µ–±—É–µ—Ç –¥–∞–ª—å–Ω–µ–π—à–µ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏)
- **Vertices:** ~120K (—Ç—Ä–µ–±—É–µ—Ç –¥–∞–ª—å–Ω–µ–π—à–µ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏)
- **Triangles:** ~40K (—Ç—Ä–µ–±—É–µ—Ç –¥–∞–ª—å–Ω–µ–π—à–µ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏)
- **Frame Time:** 16-18 ms

### –£–ª—É—á—à–µ–Ω–∏—è:
- ‚úÖ **FPS:** +100% (—Å 30 –¥–æ 60)
- ‚úÖ **Frame Time:** -60% (—Å 36ms –¥–æ 16ms)
- ‚úÖ **–õ–∞–≥–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ:** –£—Å—Ç—Ä–∞–Ω–µ–Ω—ã
- ‚úÖ **–ù–∞–≥—Ä—É–∑–∫–∞ –æ—Ç –±–æ—Ç–æ–≤:** -50-70%

---

## üîÑ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ (üî¥)
1. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è ProjectilePool** - –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ TankController –∏ EnemyTank
2. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è Draw Calls** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ThinInstanceManager –¥–ª—è –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –æ–±—ä–µ–∫—Ç–æ–≤
3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ç–µ–∫—Å—Ç—É—Ä** - —Å–∂–∞—Ç–∏–µ, LOD –¥–ª—è —Ç–µ–∫—Å—Ç—É—Ä

### –í—ã—Å–æ–∫–∏–µ (üü°)
4. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ñ–∏–∑–∏–∫–∏** - —É–ø—Ä–æ—â–µ–Ω–Ω—ã–µ –∫–æ–ª–ª–∏–∑–∏–∏ –¥–ª—è –¥–∞–ª—å–Ω–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤
5. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞–º—è—Ç–∏** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —É—Ç–µ—á–µ–∫, object pooling –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
6. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —à–µ–π–¥–µ—Ä–æ–≤** - —É–ø—Ä–æ—â–µ–Ω–∏–µ –¥–ª—è —Å–ª–∞–±—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

---

## üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è —Å–ª–∞–±—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∫–∞—á–µ—Å—Ç–≤–æ "low" –∏–ª–∏ "potato"
- –¢–µ–Ω–∏ –æ—Ç–∫–ª—é—á–µ–Ω—ã
- –ß–∞—Å—Ç–∏—Ü—ã –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã
- LOD –¥–∏—Å—Ç–∞–Ω—Ü–∏–∏ —É–º–µ–Ω—å—à–µ–Ω—ã

### –î–ª—è —Å—Ä–µ–¥–Ω–∏—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤:
- –ö–∞—á–µ—Å—Ç–≤–æ "medium" –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ FPS
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –î–ª—è –º–æ—â–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤:
- –ö–∞—á–µ—Å—Ç–≤–æ "high" –∏–ª–∏ "ultra" –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- –í—Å–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –≤–∫–ª—é—á–µ–Ω—ã
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è

---

**–ò—Ç–æ–≥–æ:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã. –ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –¥–∞–ª—å–Ω–µ–π—à–µ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

