# –ü–ª–∞–Ω —Ä–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏–∏ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤

## –û–±–∑–æ—Ä

–ü—Ä–æ–µ–∫—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ—á–µ–Ω—å –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ –º–æ–¥—É–ª–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç–∏ –∏ —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ –∫–æ–¥–∞.

## –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

### –ë–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã:
1. **`src/client/tankController.ts`** - 9,836 —Å—Ç—Ä–æ–∫
   - –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ—Ä–ø—É—Å–æ–≤ (createUniqueChassis, addChassisDetails)
   - –°–æ–∑–¥–∞–Ω–∏–µ –ø—É—à–µ–∫ (createUniqueCannon)
   - –ê–Ω–∏–º–∞—Ü–∏–∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π
   - –õ–æ–≥–∏–∫–∞ –¥–≤–∏–∂–µ–Ω–∏—è, —Å—Ç—Ä–µ–ª—å–±—ã, –∑–¥–æ—Ä–æ–≤—å—è

2. **`src/client/menu.ts`** - 5,146 —Å—Ç—Ä–æ–∫
   - UI —ç–ª–µ–º–µ–Ω—Ç—ã –º–µ–Ω—é
   - –õ–æ–≥–∏–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫
   - –°–∫–∏–ª-–¥–µ—Ä–µ–≤–æ
   - –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é

3. **`src/client/garage.ts`** - 3,973 —Å—Ç—Ä–æ–∫–∏
   - UI –ª–æ–≥–∏–∫–∞ –≥–∞—Ä–∞–∂–∞
   - 3D –ø—Ä–µ–≤—å—é —Ç–∞–Ω–∫–∞
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—è–º–∏

## –°–æ–∑–¥–∞–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏ (–∑–∞–≥–ª—É—à–∫–∏)

### Tank –º–æ–¥—É–ª–∏ (`src/client/tank/`):
- ‚úÖ `tankChassis.ts` - —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ—Ä–ø—É—Å–æ–≤
- ‚úÖ `tankCannon.ts` - —Å–æ–∑–¥–∞–Ω–∏–µ –ø—É—à–µ–∫  
- ‚úÖ `tankSpecialAbilities.ts` - –∞–Ω–∏–º–∞—Ü–∏–∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π

### Menu –º–æ–¥—É–ª–∏ (`src/client/menu/`):
- ‚úÖ `settings.ts` - —Ä–∞–±–æ—Ç–∞ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –∏–≥—Ä—ã
- ‚úÖ `skillTreeUI.ts` - UI —Å–∫–∏–ª-–¥–µ—Ä–µ–≤–∞

### Garage –º–æ–¥—É–ª–∏ (`src/client/garage/`):
- ‚úÖ `ui.ts` - HTML/CSS UI –ª–æ–≥–∏–∫–∞
- ‚úÖ `preview.ts` - 3D –ø—Ä–µ–≤—å—é –ª–æ–≥–∏–∫–∞
- ‚úÖ `materials.ts` - —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- ‚úÖ `chassisDetails.ts` - —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- ‚úÖ `cannonDetails.ts` - —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### 1. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ tankController.ts

#### –®–∞–≥ 1.1: –í—ã–Ω–µ—Å—Ç–∏ createUniqueChassis
```typescript
// –í tankController.ts –∑–∞–º–µ–Ω–∏—Ç—å:
private createUniqueChassis(...) { ... }

// –ù–∞:
import { createUniqueChassis } from "./tank/tankChassis";
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –∏–∑ –º–æ–¥—É–ª—è
```

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**
1. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ `createUniqueChassis` –∏–∑ `tankController.ts` –≤ `tank/tankChassis.ts`
2. –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã –±–µ–∑ `this` –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
3. –ó–∞–º–µ–Ω–∏—Ç—å –≤ `tankController.ts` –≤—ã–∑–æ–≤ –Ω–∞ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é

#### –®–∞–≥ 1.2: –í—ã–Ω–µ—Å—Ç–∏ addChassisDetails
```typescript
// –í tankController.ts –∑–∞–º–µ–Ω–∏—Ç—å:
private addChassisDetails(...) { ... }

// –ù–∞:
import { addChassisDetails } from "./tank/tankChassis";
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –∏–∑ –º–æ–¥—É–ª—è
```

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**
1. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ `addChassisDetails` (–æ—á–µ–Ω—å –±–æ–ª—å—à–æ–π switch –ø–æ —Ç–∏–ø–∞–º –∫–æ—Ä–ø—É—Å–æ–≤)
2. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω—ã (–º–∞—Ç–µ—Ä–∏–∞–ª—ã, ChassisDetailsGenerator)
3. –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è —Ä–∞–±–æ—Ç—ã –±–µ–∑ `this` –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

#### –®–∞–≥ 1.3: –í—ã–Ω–µ—Å—Ç–∏ createUniqueCannon
```typescript
// –í tankController.ts –∑–∞–º–µ–Ω–∏—Ç—å:
private createUniqueCannon(...) { ... }

// –ù–∞:
import { createUniqueCannon } from "./tank/tankCannon";
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –∏–∑ –º–æ–¥—É–ª—è
```

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**
1. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ `createUniqueCannon` (–±–æ–ª—å—à–æ–π switch –ø–æ —Ç–∏–ø–∞–º –ø—É—à–µ–∫)
2. –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è —Ä–∞–±–æ—Ç—ã –±–µ–∑ `this` –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

#### –®–∞–≥ 1.4: –í—ã–Ω–µ—Å—Ç–∏ –∞–Ω–∏–º–∞—Ü–∏–∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π
```typescript
// –í tankController.ts –º–µ—Ç–æ–¥ update() –∑–∞–º–µ–Ω–∏—Ç—å –≤—ã–∑–æ–≤—ã –∞–Ω–∏–º–∞—Ü–∏–π:
import { updateSpecialAbilityAnimation } from "./tank/tankSpecialAbilities";

// –í –º–µ—Ç–æ–¥–µ update():
updateSpecialAbilityAnimation(this.chassisAnimationElements, deltaTime);
```

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**
1. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤—Å—é –ª–æ–≥–∏–∫—É –∞–Ω–∏–º–∞—Ü–∏–π –∏–∑ `tankController.ts::update()`
2. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã –∞–∫—Ç–∏–≤–∞—Ü–∏–∏/–¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π
3. –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è —Ä–∞–±–æ—Ç—ã —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤–º–µ—Å—Ç–æ `this`

### 2. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ menu.ts

#### –®–∞–≥ 2.1: –í—ã–Ω–µ—Å—Ç–∏ —Ä–∞–±–æ—Ç—É —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
```typescript
// –í menu.ts –∑–∞–º–µ–Ω–∏—Ç—å:
const DEFAULT_SETTINGS = { ... };
function loadSettings() { ... }
function saveSettings() { ... }

// –ù–∞:
import { loadSettings, saveSettings, DEFAULT_SETTINGS } from "./menu/settings";
```

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**
1. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
2. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å GameSettings
3. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ applySettings –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø—Ä–∏–º–µ–Ω—è–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

#### –®–∞–≥ 2.2: –í—ã–Ω–µ—Å—Ç–∏ UI —Å–∫–∏–ª-–¥–µ—Ä–µ–≤–∞
```typescript
// –í menu.ts –∑–∞–º–µ–Ω–∏—Ç—å:
function createSkillTreeUI() { ... }
function updateSkillTreeDisplay() { ... }

// –ù–∞:
import { createSkillTreeUI, updateSkillTreeDisplay, handleSkillClick } from "./menu/skillTreeUI";
```

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**
1. –ù–∞–π—Ç–∏ –≤—Å–µ –º–µ—Ç–æ–¥—ã, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å–æ —Å–∫–∏–ª-–¥–µ—Ä–µ–≤–æ–º
2. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –≤ `skillTreeUI.ts`
3. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω—ã

### 3. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ garage.ts

#### –®–∞–≥ 3.1: –í—ã–Ω–µ—Å—Ç–∏ UI –ª–æ–≥–∏–∫—É
```typescript
// –í garage.ts –∑–∞–º–µ–Ω–∏—Ç—å:
private createOverlay() { ... }
private renderItems() { ... }
private setupKeyboardNavigation() { ... }

// –ù–∞:
import { createGarageOverlay, updateGarageItemsDisplay, setupGarageKeyboardNavigation } from "./garage/ui";
```

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**
1. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å HTML/CSS –ª–æ–≥–∏–∫—É
2. –í—ã–Ω–µ—Å—Ç–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å GarageUIState
3. –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è —Ä–∞–±–æ—Ç—ã —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

#### –®–∞–≥ 3.2: –í—ã–Ω–µ—Å—Ç–∏ preview –ª–æ–≥–∏–∫—É
```typescript
// –í garage.ts –∑–∞–º–µ–Ω–∏—Ç—å:
private initPreview() { ... }
private createUniqueChassisPreview() { ... }
private createUniqueCannonPreview() { ... }
private updatePreview() { ... }

// –ù–∞:
import { initPreviewScene, createPreviewTank, updatePreviewTank } from "./garage/preview";
```

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**
1. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤—Å—é –ª–æ–≥–∏–∫—É 3D –ø—Ä–µ–≤—å—é
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–æ–¥—É–ª–∏ (ChassisDetailsGenerator, CannonDetailsGenerator)
3. –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è —Ä–∞–±–æ—Ç—ã —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

## –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥**: –î–µ–ª–∞—Ç—å –ø–æ –æ–¥–Ω–æ–º—É –º–æ–¥—É–ª—é –∑–∞ —Ä–∞–∑, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è

2. **–°–æ—Ö—Ä–∞–Ω—è—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**: –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–∞–∫ –∂–µ

3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
   - –ö–æ–º–ø–∏–ª—è—Ü–∏—è –±–µ–∑ –æ—à–∏–±–æ–∫
   - –ó–∞–ø—É—Å–∫ –∏–≥—Ä—ã
   - –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å (—Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–Ω–∫–æ–≤, –º–µ–Ω—é, –≥–∞—Ä–∞–∂)

4. **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –∏–º–ø–æ—Ä—Ç—ã –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏

5. **–ö–æ–Ω—Ç–µ–∫—Å—Ç this**: –ü—Ä–∏ –ø–µ—Ä–µ–Ω–æ—Å–µ –º–µ—Ç–æ–¥–æ–≤ –∏–∑ –∫–ª–∞—Å—Å–æ–≤ –≤ —Ñ—É–Ω–∫—Ü–∏–∏, –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

## –û—Ü–µ–Ω–∫–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏

- **tankController.ts**: üî¥ –í—ã—Å–æ–∫–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å (–æ—á–µ–Ω—å –±–æ–ª—å—à–æ–π —Ñ–∞–π–ª, –º–Ω–æ–≥–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)
- **menu.ts**: üü° –°—Ä–µ–¥–Ω—è—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å (–º–Ω–æ–≥–æ UI –ª–æ–≥–∏–∫–∏, –Ω–æ —Ö–æ—Ä–æ—à–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω)
- **garage.ts**: üü¢ –ù–∏–∑–∫–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å (—É–∂–µ —á–∞—Å—Ç–∏—á–Ω–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–µ–Ω, –µ—Å—Ç—å –º–æ–¥—É–ª–∏)

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. –ù–∞—á–∞—Ç—å —Å `garage.ts` - —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ª—É—á–∞–π
2. –ó–∞—Ç–µ–º `menu.ts` - —Å—Ä–µ–¥–Ω—è—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å
3. –í –∫–æ–Ω—Ü–µ `tankController.ts` - —Å–∞–º—ã–π —Å–ª–æ–∂–Ω—ã–π, –Ω–æ —Å–∞–º—ã–π –≤–∞–∂–Ω—ã–π

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
- [ ] –ö–æ–¥ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ TypeScript
- [ ] –ò–≥—Ä–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
- [ ] –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ù–µ—Ç —Ä–µ–≥—Ä–µ—Å—Å–∏–π



