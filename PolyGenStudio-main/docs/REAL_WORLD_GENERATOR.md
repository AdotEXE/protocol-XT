# üåç Real World Generator - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## –û–±–∑–æ—Ä

Real World Generator ‚Äî —ç—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ 3D –∫–∞—Ä—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö. –û–Ω–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ –∑–¥–∞–Ω–∏—è—Ö, –¥–æ—Ä–æ–≥–∞—Ö, –≤–æ–¥–æ—ë–º–∞—Ö –∏ —Ä–µ–ª—å–µ—Ñ–µ –º–µ—Å—Ç–Ω–æ—Å—Ç–∏.

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –°–∏—Å—Ç–µ–º—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     Real World Generator                             ‚îÇ
‚îÇ                    (RealWorldGenerator.tsx)                          ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Gemini AI    ‚îÇ    ‚îÇ Overpass API ‚îÇ    ‚îÇ Open-Meteo API       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Geocoding)  ‚îÇ    ‚îÇ (OSM Data)   ‚îÇ    ‚îÇ (Elevation Data)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ         ‚îÇ                   ‚îÇ                       ‚îÇ               ‚îÇ
‚îÇ         ‚ñº                   ‚ñº                       ‚ñº               ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ                    Data Processing                            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã ‚Üí –õ–æ–∫–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä—ã                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - OSM –¥–∞–Ω–Ω—ã–µ ‚Üí CubeElements                                  ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - Elevation ‚Üí –í—ã—Å–æ—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞                                 ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ                              ‚îÇ                                      ‚îÇ
‚îÇ                              ‚ñº                                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ                     3D Scene Output                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - –ó–¥–∞–Ω–∏—è (CubeElements)                                      ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - –î–æ—Ä–æ–≥–∏ (–ø–ª–æ—Å–∫–∏–µ –∫—É–±—ã —Å –ø–æ–≤–æ—Ä–æ—Ç–æ–º)                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - –í–æ–¥–æ—ë–º—ã (–ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–µ –∫—É–±—ã)                              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - –ó–µ–º–ª—è (Ground)                                             ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## –≠—Ç–∞–ø—ã –ì–µ–Ω–µ—Ä–∞—Ü–∏–∏

### –®–∞–≥ 1: –ü–∞—Ä—Å–∏–Ω–≥ –õ–æ–∫–∞—Ü–∏–∏ (geminiService.ts)

**–í—Ö–æ–¥:** –¢–µ–∫—Å—Ç–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, "Tartu", "–ú–æ—Å–∫–≤–∞ —Ü–µ–Ω—Ç—Ä")

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –≤ Gemini AI –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
2. Fallback –Ω–∞ –∏–∑–≤–µ—Å—Ç–Ω—ã–µ –≥–æ—Ä–æ–¥–∞, –µ—Å–ª–∏ AI –Ω–µ –æ—Ç–≤–µ—Ç–∏–ª
3. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä—è–º–æ–≥–æ –≤–≤–æ–¥–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç (—Ñ–æ—Ä–º–∞—Ç: `lat, lng`)

**–í—ã—Ö–æ–¥:**
```typescript
interface GeoLocationData {
    name: string;           // "–¢–∞—Ä—Ç—É"
    lat: number;            // 58.3782
    lng: number;            // 26.7295
    terrainType: string;    // "Urban", "Forest", "Mountain"
    estimatedBuildingCount: number;
}
```

---

### –®–∞–≥ 2: –ó–∞–≥—Ä—É–∑–∫–∞ OSM –î–∞–Ω–Ω—ã—Ö (osmService.ts)

**–í—Ö–æ–¥:** –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ü–µ–Ω—Ç—Ä–∞ (lat, lng) –∏ —Ä–∞–¥–∏—É—Å –≤ –º–µ—Ç—Ä–∞—Ö

**API:** Overpass API (OpenStreetMap)

**–ó–∞–ø—Ä–æ—Å:**
```
[out:json][timeout:90];
(
  way["building"](around:300,58.3782,26.7295);
  way["natural"="water"](around:300,58.3782,26.7295);
  way["waterway"](around:300,58.3782,26.7295);
  way["highway"](around:300,58.3782,26.7295);
);
(._;>;);
out body;
```

**–í—ã—Ö–æ–¥:**
```typescript
interface OSMData {
    nodes: Map<number, OSMNode>;     // –í—Å–µ —Ç–æ—á–∫–∏ (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã)
    buildings: OSMWay[];             // –ó–¥–∞–Ω–∏—è
    water: OSMWay[];                 // –í–æ–¥–æ—ë–º—ã
    highways: OSMWay[];              // –î–æ—Ä–æ–≥–∏
}
```

**–†–µ–∑–µ—Ä–≤–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä—ã:**
- overpass-api.de (–æ—Å–Ω–æ–≤–Ω–æ–π)
- overpass.kumi.systems
- lz4.overpass-api.de
- overpass.openstreetmap.fr
- overpass.nchc.org.tw

---

### –®–∞–≥ 3: –ó–∞–≥—Ä—É–∑–∫–∞ –î–∞–Ω–Ω—ã—Ö –æ –í—ã—Å–æ—Ç–∞—Ö (elevationService.ts)

**–í—Ö–æ–¥:** –ú–∞—Å—Å–∏–≤—ã –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç (lats[], lngs[])

**API:** Open-Meteo Elevation API

**URL —Ñ–æ—Ä–º–∞—Ç:**
```
https://api.open-meteo.com/v1/elevation?latitude=58.37,58.38&longitude=26.72,26.73
```

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- –ú–∞–∫—Å–∏–º—É–º ~50 —Ç–æ—á–µ–∫ –∑–∞ –∑–∞–ø—Ä–æ—Å (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–ª–∏–Ω—ã URL)
- Rate limit: ~100 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É

**–û–±—Ä–∞–±–æ—Ç–∫–∞:**
```typescript
const CHUNK_SIZE = 50;  // –†–∞–∑–±–∏–≤–∞–µ–º –Ω–∞ —á–∞–Ω–∫–∏ –ø–æ 50 —Ç–æ—á–µ–∫

for (let i = 0; i < lats.length; i += CHUNK_SIZE) {
    const chunkLats = lats.slice(i, i + CHUNK_SIZE);
    const chunkLngs = lngs.slice(i, i + CHUNK_SIZE);
    // Fetch –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É
}
```

**–í—ã—Ö–æ–¥:** `number[]` ‚Äî –º–∞—Å—Å–∏–≤ –≤—ã—Å–æ—Ç –≤ –º–µ—Ç—Ä–∞—Ö –Ω–∞–¥ —É—Ä–æ–≤–Ω–µ–º –º–æ—Ä—è

---

### –®–∞–≥ 4: –ü—Ä–æ–µ–∫—Ü–∏—è –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç

**–ó–∞–¥–∞—á–∞:** –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ GPS –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç (lat/lng) –≤ –ª–æ–∫–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä—ã (x/z)

**–§–æ—Ä–º—É–ª–∞:**
```typescript
const project = (nLat: number, nLon: number) => {
    // –ú–µ—Ç—Ä–æ–≤ –Ω–∞ 1 –≥—Ä–∞–¥—É—Å —à–∏—Ä–æ—Ç—ã (–ø–æ—á—Ç–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞ ~111 –∫–º)
    const metersPerLat = 111132.954 - 559.822 * Math.cos(2 * lat);
    
    // –ú–µ—Ç—Ä–æ–≤ –Ω–∞ 1 –≥—Ä–∞–¥—É—Å –¥–æ–ª–≥–æ—Ç—ã (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç —à–∏—Ä–æ—Ç—ã)
    const metersPerLon = 111132.954 * Math.cos(lat * (Math.PI / 180));
    
    // –°–º–µ—â–µ–Ω–∏–µ –æ—Ç —Ü–µ–Ω—Ç—Ä–∞ –≤ –º–µ—Ç—Ä–∞—Ö
    const x = (nLon - lng) * metersPerLon;
    const z = (nLat - lat) * metersPerLat;
    
    return { x, z };
};
```

---

### –®–∞–≥ 5: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è 3D –û–±—ä–µ–∫—Ç–æ–≤

#### 5.1 –ó–¥–∞–Ω–∏—è (Buildings)

**–õ–æ–≥–∏–∫–∞:**
1. –ü–æ–ª—É—á–∞–µ–º –º–Ω–æ–≥–æ—É–≥–æ–ª—å–Ω–∏–∫ –∏–∑ OSM nodes
2. –í—ã—á–∏—Å–ª—è–µ–º —Ü–µ–Ω—Ç—Ä –∏ bounding box
3. –û–ø—Ä–µ–¥–µ–ª—è–µ–º –≤—ã—Å–æ—Ç—É –ø–æ —Ç–µ–≥–∞–º –∏–ª–∏ —ç–≤—Ä–∏—Å—Ç–∏–∫–µ

**–í—ã—Å–æ—Ç–∞ –∑–¥–∞–Ω–∏—è:**
```typescript
let height = 8 + Math.random() * 8;  // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: 8-16–º

if (tags['height']) {
    height = parseFloat(tags['height']);
} else if (tags['building:levels']) {
    height = parseFloat(tags['building:levels']) * 3.5;  // 3.5–º –Ω–∞ —ç—Ç–∞–∂
} else {
    // –≠–≤—Ä–∏—Å—Ç–∏–∫–∞ –ø–æ —Ç–∏–ø—É
    switch (tags['building']) {
        case 'apartments':
        case 'office':
            height = 16 + Math.random() * 24;  // 16-40–º
            break;
        case 'church':
            height = 25 + Math.random() * 20;  // 25-45–º
            break;
        // ...
    }
}
```

**–õ–∏–º–∏—Ç:** 500 –∑–¥–∞–Ω–∏–π –º–∞–∫—Å–∏–º—É–º (–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)

#### 5.2 –î–æ—Ä–æ–≥–∏ (Roads)

**–õ–æ–≥–∏–∫–∞:**
1. –ö–∞–∂–¥—ã–π —Å–µ–≥–º–µ–Ω—Ç –¥–æ—Ä–æ–≥–∏ ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø–ª–æ—Å–∫–∏–π –∫—É–±
2. –£–≥–æ–ª –ø–æ–≤–æ—Ä–æ—Ç–∞ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –ø–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—é —Å–µ–≥–º–µ–Ω—Ç–∞
3. –®–∏—Ä–∏–Ω–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–∏–ø–∞ –¥–æ—Ä–æ–≥–∏

**–®–∏—Ä–∏–Ω–∞ –¥–æ—Ä–æ–≥–∏:**
```typescript
const roadWidth = 
    (roadType === 'primary' || roadType === 'trunk') ? 10 :
    (roadType === 'secondary') ? 8 :
    (roadType === 'tertiary') ? 6 :
    (roadType === 'residential') ? 5 : 4;
```

**–õ–∏–º–∏—Ç:** 300 —Å–µ–≥–º–µ–Ω—Ç–æ–≤ –º–∞–∫—Å–∏–º—É–º

#### 5.3 –í–æ–¥–æ—ë–º—ã (Water)

**–õ–æ–≥–∏–∫–∞:**
1. –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π –∫—É–± –Ω–∏–∂–µ —É—Ä–æ–≤–Ω—è –∑–µ–º–ª–∏ (y = -0.2)
2. –†–∞–∑–º–µ—Ä –ø–æ bounding box –ø–æ–ª–∏–≥–æ–Ω–∞

**–õ–∏–º–∏—Ç:** 50 –≤–æ–¥–æ—ë–º–æ–≤ –º–∞–∫—Å–∏–º—É–º

---

## –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (cacheService.ts)

**–ö–ª—é—á –∫—ç—à–∞:** `{locationInput}-{radius}`

**–ß—Ç–æ –∫—ç—à–∏—Ä—É–µ—Ç—Å—è:**
- OSM –¥–∞–Ω–Ω—ã–µ (–∑–¥–∞–Ω–∏—è, –¥–æ—Ä–æ–≥–∏, –≤–æ–¥–∞)
- Elevation –¥–∞–Ω–Ω—ã–µ

**–£—Å–ª–æ–≤–∏–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è:**
–î–∞–Ω–Ω—ã–µ –∫—ç—à–∏—Ä—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ elevation —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (–Ω–µ –≤—Å–µ –Ω—É–ª–∏).

---

## –¢–µ–∫—É—â–∏–π –°—Ç–∞—Ç—É—Å –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|-----------|--------|------------|
| Gemini Geocoding | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –ü–∞—Ä—Å–∏–Ω–≥ –Ω–∞–∑–≤–∞–Ω–∏–π –≥–æ—Ä–æ–¥–æ–≤ |
| OSM Buildings | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –î–æ 500 –∑–¥–∞–Ω–∏–π |
| OSM Roads | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –î–æ 300 —Å–µ–≥–º–µ–Ω—Ç–æ–≤ |
| OSM Water | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –î–æ 50 –≤–æ–¥–æ—ë–º–æ–≤ |
| Elevation Grid | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω CHUNK_SIZE, –Ω—É–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å |
| Cache System | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | localStorage |

---

## –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ü—Ä–æ–±–ª–µ–º—ã –∏ –†–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞: API Elevation 400 Error
**–ü—Ä–∏—á–∏–Ω–∞:** URL —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π (>8KB)
**–†–µ—à–µ–Ω–∏–µ:** –£–º–µ–Ω—å—à–µ–Ω `CHUNK_SIZE` —Å 150 –¥–æ 50

### –ü—Ä–æ–±–ª–µ–º–∞: Overpass API Timeout
**–ü—Ä–∏—á–∏–Ω–∞:** –°–µ—Ä–≤–µ—Ä –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω
**–†–µ—à–µ–Ω–∏–µ:** Fallback –Ω–∞ 5 —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤ + retry —Å backoff

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–ª–æ—Å–∫–∏–π —Ä–µ–ª—å–µ—Ñ
**–ü—Ä–∏—á–∏–Ω–∞:** Elevation API –Ω–µ –æ—Ç–≤–µ—Ç–∏–ª
**–†–µ—à–µ–Ω–∏–µ:** Fallback –Ω–∞ –Ω—É–ª–∏, –¥–∞–Ω–Ω—ã–µ –Ω–µ –∫—ç—à–∏—Ä—É—é—Ç—Å—è –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –ø–æ–ø—ã—Ç–∫–∏

---

## –§–∞–π–ª–æ–≤–∞—è –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
PolyGenStudio-main/
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îî‚îÄ‚îÄ RealWorldGenerator.tsx    # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ geminiService.ts          # Geocoding —á–µ—Ä–µ–∑ Gemini AI
‚îÇ   ‚îú‚îÄ‚îÄ osmService.ts             # –ó–∞–≥—Ä—É–∑–∫–∞ OSM –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ elevationService.ts       # –ó–∞–≥—Ä—É–∑–∫–∞ –≤—ã—Å–æ—Ç
‚îÇ   ‚îî‚îÄ‚îÄ cacheService.ts           # –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îî‚îÄ‚îÄ types.ts                      # CubeElement –∏ –¥—Ä—É–≥–∏–µ —Ç–∏–ø—ã
```

---

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```tsx
<RealWorldGenerator
    generateId={() => Math.random().toString(36).substr(2, 9)}
    onGenerate={(cubes, mapName) => {
        // cubes - –º–∞—Å—Å–∏–≤ CubeElement[]
        // mapName - –Ω–∞–∑–≤–∞–Ω–∏–µ –ª–æ–∫–∞—Ü–∏–∏
        setCubes(prev => [...prev, ...cubes]);
    }}
/>
```
